<#import "/views/sso/admin/layout/adminLayout.ftl.html" as layout>
    <@layout.adminLayout i18n("adminUsersEdit") + ': ' + user.getId() + ' / ' + user.getUsername()>

    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <div class="panel panel-default">
                <div class="panel-body">

                    <#assign editMode = "personal" />
                    <#include 'edit-submenu.ftl.html' />

                    <#if errors.hasBeanViolations()>
                        <div class="alert alert-danger">${i18n("signUpFixTheErrorsAlert")}</div>
                    </#if>


                    <form id="signUpForm" method="POST" class="form-horizontal"
                          action="${contextPath}/auth/admin/user/edit/${user.getId()?url}?lang=${lang?url}&amp;query=${query?url}&amp;page=${page?url}">

                        <div class="form-group <#if errors.hasBeanViolation('firstName')>has-error</#if>">
                            <label class="control-label col-sm-2" for="firstName">${i18n("signUpFirstName")}</label>
                            <div class="col-sm-10">
                                <input type="text" id="firstName" name="firstName"
                                       placeholder="${i18n('signUpFirstNamePlaceHolder')}"
                                       value="${(user.getFirstName())!}"
                                       ${_enableHtml5Required}
                                       class="form-control"/>
                                <#if errors.hasBeanViolation('firstName') || errors.hasBeanViolation('lastName')>
                                    <p class="help-block ssoFieldErrorDescription">
                                        ${i18n("signUpNameDescription")}
                                    </p>
                                </#if>
                            </div>
                        </div>

                        <div class="form-group <#if errors.hasBeanViolation('middleName')>has-error</#if>">
                            <label class="control-label col-sm-2" for="middleName">${i18n("signUpMiddleName")}</label>
                            <div class="col-sm-10">
                                <input type="text" id="middleName" name="middleName"
                                       placeholder="${i18n('signUpMiddleNamePlaceHolder')}"
                                       value="${(user.getMiddleName())!}"
                                       class="form-control"/>
                            </div>
                        </div>

                        <div class="form-group <#if errors.hasBeanViolation('lastName')>has-error</#if>">
                            <label class="control-label col-sm-2" for="lastName">${i18n("signUpLastName")}</label>
                            <div class="col-sm-10">
                                <input type="text" id="lastName" name="lastName"
                                       placeholder="${i18n('signUpLastNamePlaceHolder')}"
                                       value="${(user.getLastName())!}"
                                       ${_enableHtml5Required}
                                       class="form-control"/>
                            </div>
                        </div>


                        <button type="submit" class="btn btn-primary" id="signUpSubmit">
                            ${i18n("commonSave")}
                        </button>
                        <a class="btn btn-danger" href="${contextPath}/auth/admin/users?lang=${lang?url}&amp;query=${query?url}&amp;page=${page?url}">
                            ${i18n("commonCancel")}
                        </a>

                        <input type="hidden" name="xsrfToken" value="${context.getAttribute('xsrfToken')}"/>
                    </form>
                </div>
            </div>
        </div>
    </div>

</@layout.adminLayout>
